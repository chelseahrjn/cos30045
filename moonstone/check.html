<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heat Map on World Map</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <script>

        // Replace 'yourData' with your actual data object
        const worldData = yourData;

        const width = 960;
        const height = 500;

        const svg = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height);

        const projection = d3.geoMercator()
            .scale((width + 1) / 2 / Math.PI)
            .translate([width / 2, height / 2]);

        const path = d3.geoPath().projection(projection);

        d3.json("world.json", (error, world) => {
            if (error) throw(error);

            const colorScale = d3.scaleSequential()
                .domain([0, d3.max(worldData.values())])
                .range(["#fff", "#ff0000"]); // Adjust color range as needed

            svg.selectAll(".country")
                .data(topojson.feature(world, world.objects.countries).features)
                .enter()
                .append("path")
                .attr("class", "country")
                .attr("d", path)
                .style("fill", d => {
                    const countryCode = d.properties.name;
                    const dataValue = worldData[countryCode];
                    return dataValue ? colorScale(dataValue) : "#ccc"; // Default color for missing data
                })
                .style("stroke", "#ccc")
                .style("stroke-width", 0.5);
        });

    </script>
</body>
</html>
